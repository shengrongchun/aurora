(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18f53b40"],{"0ec6":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"no-data"},[s("img",{style:t.noDataStyle,attrs:{draggable:!1,src:i("3fff")}}),s("div",{staticClass:"text"},[t._v(t._s(t.title))]),t._t("default")],2)},n=[],a={props:{title:{type:String,default:"暂时没有任何项目哦，快开始吧"},noDataStyle:{type:Object,default:function(){return{}}}}},o=a,r=(i("9238"),i("2877")),c=Object(r["a"])(o,s,n,!1,null,"a3d17638",null);e["a"]=c.exports},"3a6b":function(t,e,i){},"3fff":function(t,e,i){t.exports=i.p+"img/no.bd268dff.png"},"5b63":function(t,e,i){"use strict";var s=i("3a6b"),n=i.n(s);n.a},"6eba":function(t,e,i){},9238:function(t,e,i){"use strict";var s=i("6eba"),n=i.n(s);n.a},"9cdc":function(t,e,i){"use strict";var s=i("de02"),n=i.n(s);n.a},de02:function(t,e,i){},f5b3:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"createSpace"},[1===t.showMask?i("Main",{attrs:{list:t.list}}):t._e(),2===t.showMask?i("NoData",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("新建项目")])],1):t._e(),i("Dialog",{attrs:{visible:t.dialogVisible},on:{close:function(e){t.dialogVisible=!1},success:t.getProjectList}})],1)},n=[],a=(i("96cf"),i("3b8d")),o=i("b122"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",{staticClass:"left-menu",class:{close:t.isCollapse}},[i("div",{staticClass:"coll-icon"},[i("i",{class:"el-icon-s-"+(t.isCollapse?"unfold":"fold"),on:{click:function(e){t.isCollapse=!t.isCollapse}}})]),i("el-menu",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{collapse:t.isCollapse,"default-active":t.activeKey,"background-color":"#091425","text-color":"rgb(255, 255, 255)","active-text-color":"rgb(56, 204, 255)"}},[i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-plus",on:{click:function(e){e.stopPropagation(),t.dialogVisible=!0,t.dialogObj={}}}}),i("span",[t._v("项目列表")])]),t._l(t.projectList,function(e,s){return i("el-menu-item",{key:s,attrs:{index:e.id+""},on:{click:function(i){t.routePush({projectId:e.id,parentId:-1,breadList:JSON.stringify([{name:e.name,id:e.id}])})}}},[i("span",{staticClass:"title"},[t._v(t._s(e.name))]),i("i",{staticClass:"el-icon-edit",on:{click:function(i){i.stopPropagation(),t.dialogVisible=!0,t.dialogObj=e}}}),i("i",{staticClass:"el-icon-delete",on:{click:function(i){return i.stopPropagation(),t.clickDel(e)}}})])})],2)],1)],1),i("div",{staticClass:"right-main",class:{close:t.isCollapse}},[i("router-view",{key:t.key})],1),t.dialogVisible?i("Dialog",{attrs:{obj:t.dialogObj,visible:t.dialogVisible},on:{close:function(e){t.dialogVisible=!1},success:t.success}}):t._e()],1)},c=[],l=(i("7f7f"),i("768b")),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{visible:t.visible,"close-on-click-modal":!1,"before-close":function(){t.$emit("close")},title:t.obj.id?"编辑项目":"创建项目",width:"500px"},on:{"update:visible":function(e){t.visible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:20,"show-word-limit":!0,placeholder:"请输入项目名称，最多20个字符"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("el-form-item",{attrs:{label:"业务线",prop:"bizType"}},[i("el-select",{staticStyle:{width:"300px"},model:{value:t.form.bizType,callback:function(e){t.$set(t.form,"bizType",e)},expression:"form.bizType"}},t._l(t.bizTypeList,function(e,s){return i("el-option",{key:s,attrs:{value:e}},[t._v(t._s(e))])}),1)],1),i("el-form-item",{attrs:{label:"描述",prop:"description"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{rows:4,type:"textarea"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.$emit("close")}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)},d=[],p={props:{visible:{type:Boolean,default:!1},obj:{type:Object,default:function(){return{}}}},data:function(){return{form:{id:this.obj.id,name:this.obj.name,bizType:this.obj.bizType,description:this.obj.description}}},created:function(){this.bizTypeList=["单车","助力车","直租","顺风","风控","金融","景区","政府","换电","财务","平台","客服"],this.rules={name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],bizType:[{required:!0,message:"请选择业务线",trigger:"blur"}]}},methods:{save:function(){var t=this;this.$refs.form.validate(function(e){return!!e&&(Object(o["c"])(t.form).then(function(){t.$emit("close"),t.$emit("success",t.form.id?t.form:{})}),!0)})}}},f=p,b=i("2877"),m=Object(b["a"])(f,u,d,!1,null,null,null),h=m.exports,g={components:{Dialog:h},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{isCollapse:!1,activeKey:"".concat(this.list[0].id),loading:!1,dialogVisible:!1,projectList:this.list,dialogObj:{}}},computed:{key:function(){return this.$route+(new Date).getTime()}},watch:{$route:function(){this.activeKey="".concat(this.$route.params.projectId)}},created:function(){this.$route.params&&this.$route.params.panel||this.initRoute()},methods:{initRoute:function(){var t=Object(l["a"])(this.projectList,1),e=t[0],i=e.id,s=e.name,n={projectId:i,parentId:-1,breadList:JSON.stringify([{name:s,id:i}])};this.$route.params.breadList&&(n=this.$route.params,this.activeKey="".concat(this.$route.params.projectId)),this.routePush(n)},routePush:function(t){"".concat(t.parentId)==="".concat(t.projectId)&&(t.parentId=-1),this.$router.push({name:"createSpaceIndex",params:t})},success:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var i,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.name||!e.id){t.next=13;break}i=0,s=this.projectList.length;case 2:if(!(i<s)){t.next=12;break}if(this.projectList[i].id!==e.id){t.next=9;break}return this.projectList[i].name=e.name,this.projectList[i].bizType=e.bizType,this.projectList[i].description=e.description,this.routePush({projectId:e.id,parentId:-1,breadList:JSON.stringify([{name:e.name,id:e.id}])}),t.abrupt("break",12);case 9:i+=1,t.next=2;break;case 12:return t.abrupt("return");case 13:return this.loading=!0,this.dialogVisible=!1,t.next=17,Object(o["n"])();case 17:n=t.sent,this.loading=!1,n&&n instanceof Array&&n.length>0&&(this.projectList=n);case 20:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),clickDel:function(t){var e=this;this.$confirm("确实删除 ".concat(t.name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o["f"])(t).then(function(){if(e.projectList=e.projectList.filter(function(e){return e.id!==t.id}),e.activeKey==="".concat(t.id)){var i=Object(l["a"])(e.projectList,1),s=i[0],n=s.id,a=s.name;e.routePush({projectId:n,parentId:-1,breadList:JSON.stringify([{name:a,id:n}])})}})})}}},v=g,j=(i("5b63"),Object(b["a"])(v,r,c,!1,null,"da83561c",null)),y=j.exports,k=i("0ec6"),x={components:{Main:y,Dialog:h,NoData:k["a"]},data:function(){return{showMask:0,dialogVisible:!1,list:[]}},created:function(){this.getProjectList()},methods:{getProjectList:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["n"])();case 2:e=t.sent,e&&e instanceof Array&&e.length>0?(this.list=e,this.showMask=1):this.showMask=2;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},w=x,_=(i("9cdc"),Object(b["a"])(w,s,n,!1,null,"2a992d10",null));e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-18f53b40.3b7d2502.js.map